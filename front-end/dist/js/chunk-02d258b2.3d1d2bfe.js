(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02d258b2"],{"297c":function(t,e,s){"use strict";s("a9e3");var a=s("2b0e"),r=s("37c6");e["a"]=a["default"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(r["a"],{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"2b73":function(t,e,s){"use strict";s("778b")},"310d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user?s("div",[t.loading?s("div",[s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"primary",rounded:"",height:"5"}})],1):t._e(),s("v-card",[s("v-card-title",[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-account ")]),s("span",{staticClass:"pl-2"},[t._v("Account Information")]),s("v-spacer"),s("v-btn",{staticClass:"mx-1",attrs:{depressed:"",color:"secondary"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Back "),s("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-keyboard-return ")])],1),s("v-btn",{staticClass:"mx-1",attrs:{depressed:"",color:"primary"},on:{click:t.editUser}},[t._v(" Edit "),s("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-pencil ")])],1),"student"==t.userType?s("v-btn",{staticClass:"mx-1",attrs:{depressed:"",color:"info"},on:{click:t.emailUser}},[t._v(" Email Card "),s("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-email ")])],1):t._e()],1),t.user?s("v-card-text",{staticClass:"mt-5"},[s("v-row",[t.user.avatar?s("v-col",{attrs:{cols:"12",md:"3"}},[s("div",{staticClass:"d-flex justify-center"},[s("avatar-image-component",{attrs:{edit:!1,avatarUrl:t.user.avatar,user:t.user.id}})],1)]):t._e(),s("v-col",{attrs:{cols:"12",md:"9"}},[s("v-row",{staticClass:"mx-2"},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("User Name")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.name))])])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Email")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.email))])])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Registered")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(" "+t._s(t._f("moment")(t.user.created_at,"LL"))+" - "+t._s(t._f("moment")(t.user.created_at,"LT"))+" ")])])]),"school"==t.userType||"guardian"==t.userType&&4==t.user.role_id?s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Balance")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.balance))])])]):"student"==t.userType?s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Student ID")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.student_identification))])])]):s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Phone Number")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.tel_number))])])])],1),s("v-row",{staticClass:"mx-2"},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Role")]),s("div",{staticClass:"mt-4"},[s("v-chip",{attrs:{color:"primary",dark:""}},[t._v(" "+t._s(t.getRoleValue(t.user.role_id))+" "),s("v-icon",{staticClass:"ml-2"},[t._v(" "+t._s(t.getIconOfRole(t.user.role_id))+" ")])],1)],1)]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Status")]),s("div",{staticClass:"mt-4"},[s("v-chip",{attrs:{color:t.getStatusColor(t.user.status_id),dark:""}},[t._v(" "+t._s(t.getStatusValue(t.user.status_id))+" "),s("v-icon",{staticClass:"ml-2"},[t._v(" "+t._s(t.getIconOfStatus(t.user.status_id))+" ")])],1)],1)])],1),"student"==t.userType&&t.user.notes?s("v-row",{staticClass:"mx-2"},[s("v-col",{attrs:{cols:"12",md:"12"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Notes")]),s("div",{staticClass:"mt-4"},[t._v(" "+t._s(t.user.notes)+" ")])])],1):t._e()],1)],1)],1):t._e()],1),2==t.user.role_id?s("school-card",{staticClass:"mt-5",attrs:{school:t.user}}):t._e(),6==t.user.role_id?s("div",[s("v-card-title",{staticClass:"mt-4"},[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-account-group-outline ")]),s("span",{staticClass:"pl-2"},[t._v("Guardians")])],1),t._l(t.user.guardians,(function(t,e){return s("div",{key:t.id,staticClass:"mt-5"},[s("guardian-card",{attrs:{guardian:t}})],1)}))],2):t._e(),4==t.user.role_id||5==t.user.role_id?s("div",[s("v-card-title",{staticClass:"mt-4"},[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-account-group ")]),s("span",{staticClass:"pl-2"},[t._v("Students")])],1),t._l(t.user.students,(function(t,e){return s("div",{key:t.id,staticClass:"mt-5"},[s("student-card",{attrs:{student:t}})],1)}))],2):t._e(),3==t.user.role_id&&t.user.driver_information?s("v-card",{staticClass:"mt-5"},[s("v-card-title",[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-information ")]),s("span",{staticClass:"pl-2"},[t._v("Personal Information")])],1),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("First Name")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.driver_information.first_name))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Last Name")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.driver_information.last_name))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Phone Number")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.driver_information.phone_number))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Address")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.driver_information.address))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Communication Email")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.driver_information.email))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("License")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.user.driver_information.license_number))])])])],1)],1)],1):t._e(),3==t.user.role_id&&null!=t.user.driver_information&&null!=t.user.driver_information.documents&&t.user.driver_information.documents.length>0?s("v-card",{staticClass:"mt-5"},[s("v-card-title",[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-file-document ")]),s("span",{staticClass:"pl-2"},[t._v("Driver Documents")])],1),t._l(t.user.driver_information.documents,(function(e,a){return s("v-card-text",{key:e.id},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3"}},[s("div",{staticClass:"driver-document"},[s("v-avatar",{attrs:{rounded:"",size:"120"},on:{click:function(s){return t.viewDocumentImage(e)}}},[s("v-img",{attrs:{src:t.getDocumentImage(e),alt:"Document Image"}})],1)],1)]),s("v-col",{attrs:{cols:"12",md:"3"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Document Name")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(e.document_name))])])]),s("v-col",{attrs:{cols:"12",md:"3"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Document Number")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(e.document_number))])])]),s("v-col",{attrs:{cols:"12",md:"3"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Expiry Date")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t._f("moment")(e.expiry_date,"LL")))])])])],1)],1)}))],2):t._e(),6==t.user.role_id?s("approve-reject-card",{staticClass:"mt-5",attrs:{userType:"Student"},on:{"approve-user":t.approveUser,"reject-user":t.rejectUser}}):t._e(),3==t.user.role_id?s("approve-reject-card",{staticClass:"mt-5",attrs:{userType:"Driver"},on:{"approve-user":t.approveUser,"reject-user":t.rejectUser}}):t._e()],1):t._e()},r=[],i=(s("fb6a"),s("ac1f"),s("1276"),s("b0c0"),s("d2b8")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-title",[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-badge-account-outline ")]),s("span",{staticClass:"pl-2"},[t._v(t._s(t.student.name))])],1),s("v-card-text",{staticClass:"my-4"},[s("v-row",[t.student.avatar?s("v-col",{attrs:{cols:"12",md:"3"}},[s("div",{staticClass:"d-flex justify-center"},[s("avatar-image-component",{attrs:{edit:!1,avatarUrl:t.student.avatar,user:t.student.id}})],1)]):t._e(),s("v-col",{attrs:{cols:"12",md:"9"}},[s("v-row",{staticClass:"mx-2 mt-1"},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Student ID")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.student.student_identification))])])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Registered")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(" "+t._s(t._f("moment")(t.student.created_at,"LL"))+" - "+t._s(t._f("moment")(t.student.created_at,"LT"))+" ")])])])],1),t.student.notes?s("v-row",{staticClass:"mx-2 mt-2"},[s("v-col",{attrs:{cols:"12"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Notes")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.student.notes))])])])],1):t._e()],1)],1)],1)],1)},n=[],c={name:"studentCard",props:{student:{type:Object,required:!0}},components:{AvatarImageComponent:i["a"]}},l=c,d=s("2877"),u=s("6544"),v=s.n(u),m=s("b0af"),p=s("99d9"),h=s("62ad"),_=s("132d"),f=s("0fd9"),g=Object(d["a"])(l,o,n,!1,null,null,null),C=g.exports;v()(g,{VCard:m["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:h["a"],VIcon:_["a"],VRow:f["a"]});var b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-title",[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-information ")]),s("span",{staticClass:"pl-2"},[t._v(t._s(t.guardian.name))])],1),s("v-card-text",[s("v-row",[t.guardian.avatar?s("v-col",{attrs:{cols:"12",md:"3"}},[s("div",{staticClass:"d-flex justify-center"},[s("avatar-image-component",{attrs:{edit:!1,avatarUrl:t.guardian.avatar,user:t.guardian.id}})],1)]):t._e(),s("v-col",{attrs:{cols:"12",md:"9"}},[s("v-row",{staticClass:"mx-2"},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Email")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.guardian.email))])])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Registered")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(" "+t._s(t._f("moment")(t.guardian.created_at,"LL"))+" - "+t._s(t._f("moment")(t.guardian.created_at,"LT"))+" ")])])]),4==t.guardian.role_id?s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Balance")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.guardian.balance))])])]):t._e(),s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Phone Number")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.guardian.tel_number))])])])],1),s("v-row",{staticClass:"mx-2"},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Role")]),s("div",{staticClass:"mt-4"},[s("v-chip",{attrs:{color:"primary",dark:""}},[t._v(" "+t._s(t.getRoleValue(t.guardian.role_id))+" "),s("v-icon",{staticClass:"ml-2"},[t._v(" "+t._s(t.getIconOfRole(t.guardian.role_id))+" ")])],1)],1)]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Status")]),s("div",{staticClass:"mt-4"},[s("v-chip",{attrs:{color:t.getStatusColor(t.guardian.status_id),dark:""}},[t._v(" "+t._s(t.getStatusValue(t.guardian.status_id))+" "),s("v-icon",{staticClass:"ml-2"},[t._v(" "+t._s(t.getIconOfStatus(t.guardian.status_id))+" ")])],1)],1)])],1)],1)],1)],1)],1)},y=[],w={name:"guardianCard",props:{guardian:{type:Object,required:!0}},components:{AvatarImageComponent:i["a"]},methods:{getStatusColor:function(t){return 1==t?"success":2==t?"warning":3==t?"error":4==t?"info":void 0},getStatusValue:function(t){return 1==t?"Active":2==t?"Pending":3==t?"Suspended":4==t?"Under Review":"Unknown"},getIconOfStatus:function(t){return 1==t?"mdi-check-circle":2==t?"mdi-alert-circle":3==t?"mdi-close-circle":4==t?"mdi-information-outline":"mdi-help-circle"},getRoleValue:function(t){return 1==t?"Admin":2==t?"School":3==t?"Driver":4==t?"Parent":5==t?"Guardian":6==t?"Student":"Unknown"},getIconOfRole:function(t){return 1==t?"mdi-account-lock":2==t?"mdi-school":3==t?"mdi-account-tie-hat":4==t?"mdi-account-tie":5==t?"mdi-account-group":6==t?"mdi-badge-account-outline":"mdi-account-question"}}},k=w,j=s("cc20"),V=Object(d["a"])(k,b,y,!1,null,null,null),x=V.exports;v()(V,{VCard:m["a"],VCardText:p["b"],VCardTitle:p["c"],VChip:j["a"],VCol:h["a"],VIcon:_["a"],VRow:f["a"]});var O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-title",[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-information ")]),s("span",{staticClass:"pl-2"},[t._v("School Information")])],1),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Students")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.school.student_count))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Drivers")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.school.driver_count))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Buses")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.school.bus_count))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Stops")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.school.stop_count))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Routes")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.school.route_count))])])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("p",{staticClass:"font-weight-bold"},[t._v("Trips")]),s("div",{staticClass:"mt-4"},[s("p",[t._v(t._s(t.school.trip_count))])])])],1)],1)],1)},U=[],B={name:"schoolCard",props:{school:{type:Object,required:!0}},components:{AvatarImageComponent:i["a"]}},S=B,P=Object(d["a"])(S,O,U,!1,null,null,null),$=P.exports;v()(P,{VCard:m["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:h["a"],VIcon:_["a"],VRow:f["a"]});var I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-title",[s("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-account-check ")]),s("span",{staticClass:"pl-2"},[t._v("Approve or Reject "+t._s(t.userType))])],1),s("v-card-text",[s("div",{staticClass:"d-flex justify-space-between mb-6 bg-surface-variant"},[s("v-btn",{staticClass:"mx-1",attrs:{depressed:"",color:"success"},on:{click:t.approveUser}},[t._v(" Approve "),s("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-check ")])],1),s("v-btn",{staticClass:"mx-1",attrs:{depressed:"",color:"error"},on:{click:t.rejectUser}},[t._v(" Reject "),s("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-close ")])],1)],1)])],1)},A=[],R={name:"approveRejectCard",props:{userType:{type:String,required:!0}},methods:{approveUser:function(){this.$emit("approve-user",this.userType)},rejectUser:function(){this.$emit("reject-user",this.userType)}}},E=R,T=s("8336"),L=Object(d["a"])(E,I,A,!1,null,null,null),z=L.exports;v()(L,{VBtn:T["a"],VCard:m["a"],VCardText:p["b"],VCardTitle:p["c"],VIcon:_["a"]});var D=s("db49"),N=s("2fa3"),G={components:{AvatarImageComponent:i["a"],Keys:D["a"],studentCard:C,schoolCard:$,guardianCard:x,approveRejectCard:z},setup:function(){return{adminProfileStore:N["b"]}},data:function(){return{user:null,user_id:null,loading:!1,userType:null}},mounted:function(){null!=this.$route.params.user_id&&(this.user_id=this.$route.params.user_id,this.userType=this.$route.name.split("-").slice(-1)[0],this.fetchUser())},methods:{fetchUser:function(){var t=this;this.loading=!0,axios.get("/users/".concat(this.userType),{params:{user_id:this.user_id}}).then((function(e){t.loading=!1,t.user=e.data,console.log(t.user)}))["catch"]((function(e){t.loading=!1,t.$notify({title:"Error",text:"Error fetching user data",type:"error"}),console.log(e)}))},emailUser:function(){var t=this;this.loading=!0,axios.post("/users/print-student-card",{student_id:this.user.id}).then((function(e){t.loading=!1,t.$notify({title:"Success",text:"Printing student card",type:"success"}),console.log(e)}))["catch"]((function(e){t.loading=!1,t.$notify({title:"Error",text:"Error printing student card",type:"error"}),console.log(e)}))},editUser:function(){var t="";t=N["b"].id==this.user.id&&1==this.user.role_id?"edit-admin-profile":N["b"].id==this.user.id&&2==this.user.role_id?"edit-school-profile":"edit-"+this.userType,this.$router.push({name:t,params:{user_id:this.user.id}})},userStatus:function(t){return 1==t?"Active":2==t?"Pending":3==t?"Suspended":4==t?"Under Review":"Unknown"},getIconOfRedemptionPreference:function(t){return 2==t?"mdi-bank":3==t?"mdi-credit-card":4==t?"mdi-credit-card-multiple":"mdi-cash"},getRedemptionPreferenceColor:function(t){return 2==t?"primary":3==t?"info":4==t?"secondary":"success"},getRedemptionPreferenceValue:function(t){return 2==t?"Bank":3==t?"PayPal":4==t?"Mobile Money":"Cash"},getStatusColor:function(t){return 1==t?"success":2==t?"warning":3==t?"error":4==t?"info":void 0},getStatusValue:function(t){return 1==t?"Active":2==t?"Pending":3==t?"Suspended":4==t?"Under Review":"Unknown"},getIconOfStatus:function(t){return 1==t?"mdi-check-circle":2==t?"mdi-alert-circle":3==t?"mdi-close-circle":4==t?"mdi-information-outline":"mdi-help-circle"},getRoleValue:function(t){return 1==t?"Admin":2==t?"School":3==t?"Driver":4==t?"Parent":5==t?"Guardian":6==t?"Student":"Unknown"},getIconOfRole:function(t){return 1==t?"mdi-account-lock":2==t?"mdi-school":3==t?"mdi-account-tie-hat":4==t?"mdi-account-tie":5==t?"mdi-account-group":6==t?"mdi-badge-account-outline":"mdi-account-question"},getDocumentImage:function(t){return D["a"].VUE_APP_API_URL+t.remote_file_path},viewDocumentImage:function(t){window.open(D["a"].VUE_APP_API_URL+t.remote_file_path,"_blank")},rejectUser:function(t){var e=this;this.$swal({input:"textarea",inputPlaceholder:"Why are you rejecting this "+t+"?",inputAttributes:{"aria-label":"Why are you rejecting this "+t+"?"},title:"Reject "+t,html:"Are you sure you want to reject this "+t+"?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, reject it!"}).then((function(t){t.isConfirmed&&e.takeActionOnServer(e.user.id,t.value,2)}))},approveUser:function(t){var e=this;this.$swal({title:"Approve "+t,html:"Are you sure you want to approve this driver?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, approve it!"}).then((function(t){t.isConfirmed&&e.takeActionOnServer(e.user.id,"Approved",1)}))},takeActionOnServer:function(t,e,s){var a=this;this.loading=!0,axios.post("/users/take-action",{user_id:t,reason:e,action:s}).then((function(t){a.loading=!1,a.$notify({title:"Success",text:"Action performed successfully",type:"success"}),a.$router.go(-1)}))["catch"]((function(t){a.loading=!1,a.$notify({title:"Error",text:"Error taking action",type:"error"}),console.log(t)}))}}},q=G,F=(s("2b73"),s("8212")),M=s("adda"),H=s("8e36"),J=s("2fa4"),K=Object(d["a"])(q,a,r,!1,null,"310d1eba",null);e["default"]=K.exports;v()(K,{VAvatar:F["a"],VBtn:T["a"],VCard:m["a"],VCardText:p["b"],VCardTitle:p["c"],VChip:j["a"],VCol:h["a"],VIcon:_["a"],VImg:M["a"],VProgressLinear:H["a"],VRow:f["a"],VSpacer:J["a"]})},"37c6":function(t,e,s){"use strict";var a=s("8e36");e["a"]=a["a"]},"615b":function(t,e,s){},"6ece":function(t,e,s){},"778b":function(t,e,s){},"8adc":function(t,e,s){},"8e36":function(t,e,s){"use strict";var a=s("5530"),r=s("ade3"),i=(s("a9e3"),s("acd8"),s("c7cd"),s("26e9"),s("6ece"),s("0789")),o=s("90a2"),n=s("a9ad"),c=s("fe6c"),l=s("a452"),d=s("7560"),u=s("80d2"),v=s("58df"),m=Object(v["a"])(n["a"],Object(c["b"])(["absolute","fixed","top","bottom"]),l["a"],d["a"]);e["a"]=m.extend({name:"v-progress-linear",directives:{intersect:o["a"]},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(u["h"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(u["h"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var t,e=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return t={opacity:e},Object(r["a"])(t,this.isReversed?"right":"left",Object(u["h"])(this.normalizedValue,"%")),Object(r["a"])(t,"width",Object(u["h"])(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")),t},classes:function(){return Object(a["a"])({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible},this.themeClasses)},computedTransition:function(){return this.indeterminate?i["c"]:i["d"]},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(u["h"])(this.normalizedBuffer,"%")),t}},methods:{genContent:function(){var t=Object(u["t"])(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners:function(){var t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar:function(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(r["a"])({},t,!0)}))},onClick:function(t){if(this.reactive){var e=this.$el.getBoundingClientRect(),s=e.width;this.internalValue=t.offsetX/s*100}},onObserve:function(t,e,s){this.isVisible=s},normalize:function(t){return t<0?0:t>100?100:parseFloat(t)}},render:function(t){var e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?Object(u["h"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}})},"99d9":function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return c}));var a=s("b0af"),r=s("80d2"),i=Object(r["j"])("v-card__actions"),o=Object(r["j"])("v-card__subtitle"),n=Object(r["j"])("v-card__text"),c=Object(r["j"])("v-card__title");a["a"]},b0af:function(t,e,s){"use strict";var a=s("5530"),r=(s("a9e3"),s("0481"),s("4069"),s("615b"),s("10d2")),i=s("297c"),o=s("1c87"),n=s("58df");e["a"]=Object(n["a"])(i["a"],o["a"],r["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({"v-card":!0},o["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},r["a"].options.computed.classes.call(this))},styles:function(){var t=Object(a["a"])({},r["a"].options.computed.styles.call(this));return this.img&&(t.background='url("'.concat(this.img,'") center center / cover no-repeat')),t}},methods:{genProgress:function(){var t=i["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),s=e.tag,a=e.data;return a.style=this.styles,this.isClickable&&(a.attrs=a.attrs||{},a.attrs.tabindex=0),t(s,this.setBackgroundColor(this.color,a),[this.genProgress(),this.$slots["default"]])}})},cc20:function(t,e,s){"use strict";var a=s("3835"),r=s("5530"),i=(s("4160"),s("d3b7"),s("4de4"),s("8adc"),s("58df")),o=s("0789"),n=s("9d26"),c=s("a9ad"),l=s("4e82"),d=s("7560"),u=s("f2e7"),v=s("1c87"),m=s("af2b"),p=s("d9bd");e["a"]=Object(i["a"])(c["a"],m["a"],v["a"],d["a"],Object(l["a"])("chipGroup"),Object(u["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({"v-chip":!0},v["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(v["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var t=this,e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((function(e){var s=Object(a["a"])(e,2),r=s[0],i=s[1];t.$attrs.hasOwnProperty(r)&&Object(p["a"])(r,i,t)}))},methods:{click:function(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter:function(){var t=[];return this.isActive&&t.push(this.$createElement(n["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(o["b"],t)},genClose:function(){var t=this;return this.$createElement(n["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$emit("click:close"),t.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots["default"],this.hasClose&&this.genClose()])}},render:function(t){var e=[this.genContent()],s=this.generateRouteLink(),a=s.tag,i=s.data;i.attrs=Object(r["a"])(Object(r["a"])({},i.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:i.attrs.tabindex}),i.directives.push({name:"show",value:this.active}),i=this.setBackgroundColor(this.color,i);var o=this.textColor||this.outlined&&this.color;return t(a,this.setTextColor(o,i),e)}})},d2b8:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"avatar"},[s("v-avatar",{staticClass:"me-6",attrs:{rounded:"",size:"220"}},[s("v-img",{attrs:{src:t.avatarImageUrl}})],1),t.edit?s("v-btn",{staticClass:"me-3 mt-5",attrs:{color:"primary"},on:{click:function(e){return t.$refs.photo.click()}}},[s("v-icon",{staticClass:"d-sm-none"},[t._v(" "+t._s(t.icons.mdiCloudUploadOutline)+" ")]),s("span",{staticClass:"d-none d-sm-block"},[t._v("Upload new photo")])],1):t._e(),s("input",{ref:"photo",attrs:{type:"file",accept:".jpeg,.png,.jpg,GIF",hidden:!0},on:{change:function(e){return t.updateAvatar()}}}),t.edit?s("p",{staticClass:"text-sm mt-5"},[t._v("Allowed JPG, GIF or PNG. Max size of 800K")]):t._e()],1),t.showUploadProgress?s("div",[t._v("Uploading: "+t._s(t.uploadPercent)+" %")]):t._e()])},r=[],i=s("94ed"),o=s("2fa3"),n=s("bc3a"),c=s.n(n),l=s("db49"),d={components:{Keys:l["a"]},name:"AvatarImageComponent",props:["avatarUrl","user","edit"],setup:function(){return{adminProfileStore:o["b"]}},data:function(){return{uploadPercent:0,defaultAvatar:"/storage/avatars/1/avatar.png",avatarImageUrl:"",showUploadProgress:!1,processingUpload:!1,icons:{mdiAlertOutline:i["j"],mdiCloudUploadOutline:i["t"]}}},mounted:function(){this.avatarUrl?this.avatarImageUrl=l["a"].VUE_APP_API_URL+this.avatarUrl:this.avatarImageUrl=l["a"].VUE_APP_API_URL+this.defaultAvatar,console.log(this.avatarImageUrl)},methods:{updateAvatar:function(){var t=this;if(this.$refs.photo){this.showUploadProgress=!0,this.processingUpload=!0,this.uploadPercent=0;var e={headers:{"content-type":"multipart/form-data"}},s=new FormData;s.append("avatar",this.$refs.photo.files[0]),c.a.post("users/upload-avatar",s,e,{onUploadProgress:function(e){t.uploadPercent=e.lengthComputable?Math.round(100*e.loaded/e.total):0}}).then((function(e){t.avatarImageUrl=l["a"].VUE_APP_API_URL+"/"+e.data.avatar_url,1!=t.user.role_id&&2!=t.user.role_id||(t.adminProfileStore.avatar=e.data.avatar_url),t.showUploadProgress=!1,t.processingUpload=!1}))["catch"]((function(e){e.response?console.log(e.message):console.log(e),t.showUploadProgress=!1,t.processingUpload=!1}))}}}},u=d,v=s("2877"),m=s("6544"),p=s.n(m),h=s("8212"),_=s("8336"),f=s("132d"),g=s("adda"),C=Object(v["a"])(u,a,r,!1,null,null,null);e["a"]=C.exports;p()(C,{VAvatar:h["a"],VBtn:_["a"],VIcon:f["a"],VImg:g["a"]})}}]);
//# sourceMappingURL=chunk-02d258b2.3d1d2bfe.js.map