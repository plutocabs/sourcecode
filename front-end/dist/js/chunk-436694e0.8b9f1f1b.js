(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-436694e0"],{"8f00":function(t,a,s){"use strict";s("b2e9")},b2e9:function(t,a,s){},febf:function(t,a,s){"use strict";s.r(a);var o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.isLoading?s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-skeleton-loader",{attrs:{type:"card",height:"200"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-row",{staticClass:"match-height"},[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("v-skeleton-loader",{attrs:{type:"card",height:"200"}})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("v-skeleton-loader",{attrs:{type:"card",height:"200"}})],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-skeleton-loader",{attrs:{type:"card",height:"120"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-skeleton-loader",{attrs:{type:"image",height:"500"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-skeleton-loader",{attrs:{type:"image",height:"500"}})],1)],1):s("v-row",[s("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[s("dashboard-card-total-earning",{attrs:{amount:t.totalAdminEarnings}})],1),s("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[s("v-row",{staticClass:"match-height"},[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("statistics-card-vertical",{attrs:{change:t.totalFromSchools.change,color:t.totalFromSchools.color,icon:t.totalFromSchools.icon,statistics:t.totalFromSchools.amount,"stat-title":t.totalFromSchools.statTitle,subtitle:t.totalFromSchools.subtitle}})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("statistics-card-vertical",{attrs:{change:t.totalFromParents.change,color:t.totalFromParents.color,icon:t.totalFromParents.icon,statistics:t.totalFromParents.amount,"stat-title":t.totalFromParents.statTitle,subtitle:t.totalFromParents.subtitle}})],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"12"}},[s("dashboard-statistics-card",{attrs:{"all-counts":t.allCounts}})],1),s("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[s("dashboard-weekly-overview",{attrs:{"trip-count":t.plannedTripsCount,"trip-dates":t.plannedTripsDates}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("dashboard-card-plans",{attrs:{"best-plans":t.bestSalesPlans}})],1)],1)},l=[],e=(s("4160"),s("d3b7"),s("159b"),s("94ed")),r=s("54ff"),n=s("b012"),i=s("f42b"),c=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-card",[s("v-card-title",{staticClass:"align-start"},[s("span",{staticClass:"font-weight-semibold text-2xl me-1"},[t._v("Total Earning")]),s("v-spacer")],1),s("v-card-text",{staticClass:"py-4"},[s("div",{staticClass:"d-flex align-center"},[s("h1",{staticClass:"text-4xl font-weight-semibold"},[t._v(" "+t._s(t.amount)+" ")])]),s("h4",{staticClass:"mt-8 font-weight-medium"})])],1)},d=[],m={props:{amount:{type:String,default:""}}},u=m,h=s("2877"),v=s("6544"),p=s.n(v),b=s("b0af"),f=s("99d9"),g=s("2fa4"),C=Object(h["a"])(u,c,d,!1,null,null,null),S=C.exports;p()(C,{VCard:b["a"],VCardText:f["b"],VCardTitle:f["c"],VSpacer:g["a"]});var x=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-card",[s("v-card-title",{staticClass:"align-start"},[s("span",[t._v("Best Selling Plans")]),s("v-spacer")],1),t.bestPlans.length>0?s("v-card-text",[s("v-list",{staticClass:"pb-0"},t._l(t.bestPlans,(function(a,o){return s("v-list-item",{key:a.id,class:"d-flex align-center px-0 "+(o>0?"mt-4":"")},[s("v-avatar",{class:a.color+" white--text font-weight-medium me-3",attrs:{color:a.color,size:"40"}},[s("span",{staticClass:"text-base"},[t._v(t._s(a.plan_id))])]),s("div",{staticClass:"d-flex align-center flex-grow-1 flex-wrap"},[s("div",{staticClass:"me-2"},[s("div",{staticClass:"font-weight-semibold"},[s("span",{staticClass:"text--primary text-base me-1"},[t._v(t._s(a.plan_name)+" - "+t._s(0==a.plan_type?"Schools":"Parents"))])]),s("v-list-item-subtitle",{staticClass:"text-xs"},[t._v(" Sold "+t._s(a.count)+" "+t._s(1==a.count?"time":"times")+" ")])],1),s("v-spacer"),s("div",[s("h4",{staticClass:"font-weight-semibold"},[t._v(" "+t._s(a.total)+" ")])])],1)],1)})),1)],1):s("v-card-text",[s("div",{staticClass:"d-flex align-center justify-center flex-column"},[s("v-icon",{attrs:{size:"150",color:"grey lighten-2"}},[t._v("mdi-emoticon-sad-outline")]),s("span",{staticClass:"text--secondary text-sm"},[t._v("No enough data found")])],1)])],1)},w=[],P={props:{bestPlans:{type:Array,default:function(){return[]}}},setup:function(){return{icons:{mdiDotsVertical:e["z"],mdiChevronUp:e["r"],mdiChevronDown:e["q"]}}}},_=P,y=s("8212"),T=s("132d"),V=s("8860"),F=s("da13"),k=s("5d23"),D=Object(h["a"])(_,x,w,!1,null,null,null),E=D.exports;p()(D,{VAvatar:y["a"],VCard:b["a"],VCardText:f["b"],VCardTitle:f["c"],VIcon:T["a"],VList:V["a"],VListItem:F["a"],VListItemSubtitle:k["b"],VSpacer:g["a"]});var L=s("d612"),$={components:{StatisticsCardVertical:r["a"],DashboardStatisticsCard:i["a"],DashboardCardTotalEarning:S,DashboardCardPlans:E,DashboardWeeklyOverview:L["a"]},data:function(){return{isLoading:!1,totalFromSchools:{statTitle:"Schools Payments",icon:e["S"],color:"success",amount:""},bestSalesPlans:[],plannedTripsCount:[],plannedTripsDates:[],bestSalesPlansColors:["success","error","warning","secondary","error"],totalFromParents:{statTitle:"Parents Payments",icon:e["a"],color:"info",amount:""},totalAdminEarnings:null,allCounts:[{title:"Schools",total:""},{title:"Guardians",total:""},{title:"Drivers",total:""},{title:"Students",total:""},{title:"Routes",total:""},{title:"Stops",total:""}]}},mounted:function(){this.fetchDashboardStatistics()},methods:{fetchDashboardStatistics:function(){var t=this;this.isLoading=!0,this.reservations=[],axios.get("/admin-dashboard/all").then((function(a){for(var s in t.totalFromSchools.amount=a.data.paidSchools,t.totalFromParents.amount=a.data.paidParents,t.totalAdminEarnings=a.data.totalPaid,t.allCounts[0].total=a.data.totalSchools,t.allCounts[1].total=a.data.totalGuardians,t.allCounts[2].total=a.data.totalDrivers,t.allCounts[3].total=a.data.totalStudents,t.allCounts[4].total=a.data.totalRoutes,t.allCounts[5].total=a.data.totalStops,t.bestSalesPlans=a.data.bestSalesPlans,t.bestSalesPlans.forEach((function(a,s){a.color=t.bestSalesPlansColors[s]})),a.data.plannedTrips)t.plannedTripsCount.push(a.data.plannedTrips[s]),t.plannedTripsDates.push(s);console.log(t.bestSalesPlans)}))["catch"]((function(a){t.$notify({title:"Error",text:"Error while retrieving dashboard statistics",type:"error"}),console.log(a),n["a"].checkError(a.response.data.message,t.$router,t.$swal)})).then((function(){t.isLoading=!1}))}}},A=$,j=(s("8f00"),s("62ad")),O=s("0fd9"),z=s("3129"),I=Object(h["a"])(A,o,l,!1,null,null,null);a["default"]=I.exports;p()(I,{VCol:j["a"],VRow:O["a"],VSkeletonLoader:z["a"]})}}]);
//# sourceMappingURL=chunk-436694e0.8b9f1f1b.js.map